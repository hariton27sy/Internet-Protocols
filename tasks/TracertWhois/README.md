# TraceRoute + Whois
Простая тулза traceroute, с возможностью увидеть 
какой автономной системе и стране принадлежит каждый IP в цепочке маршрутов. 

## Требования
*  Права администратора
* Выключенный файрволл
* Работоспособность скрипта проверялась на платформе Windows 10, python 3.8
* Работа под Linux не гарантируется, но попробовать можно)))

## Использование
Вся справка в скрипте
```
python index.py -h
```

## Как работает внутри
Реализация traceroute и сбор icmp пакета лежат в модуле `traceroute.py`

Реализация whois - `whois.py`

1. Попытка получить ip по адресу назначения если, указан не ip
2. Создается сокет, который прослушивает все ICMP пакеты.
3. Пакет ip уровня формируется автоматически, просто меняется ttl каждый раз. ICMP пакет формируется вручную внутри класса ICMP.
4. Сокет отправляет сформированный пакет, и смотрит либо пришел ICMP c 11 типом либо с 0.
5. Если с 0 то трассировка завершена
6. Получение трассировки сделано 'ленивым' способом, поэтому для каждого полученного ip вызывается функция who_is:
    1. Происходит обращение к whois.iana.org, чтобы определить региональный whois сервер
    2. Далее уже обращение к полученному whois серверу

## Outro
Скрипт написан в учебных целях по предмету __`Протоколы интернет`__

Харитонов Сергей, матмех УрФУ, 2020